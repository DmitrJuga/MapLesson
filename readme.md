geekbrains.ru, Objective-C level 2 course
#"Работа с MapKit и CoreLoaction"

## Lesson 3 - homework
####ДЗ:
Реализовать TableView поверх MapView.  
По ЛонгПресс добавлять адрес точки касания в массив. При нажатии на кнопку перезагружать таблицу и добовлять аннотации на карту. При нажатии на табличную ячейку должен происходить фокус на конкретную аннотацию.

Выполнено.

Особенности:
- авторизация сделана иначе, чем на уроке: 1 - проще (проверки на первый вызов не нужны), 2 - WhenInUse вместо Always (экономим пользователю батарейку);
- обновление локации запускаем только если есть авторизация;
- обновление локации делаем один раз и отключаем (экономим пользователю батарейку); повторно обновить положение можно по кнопке "Очистить" (корзина);
- если авторизация уже есть - сразу масштабируемся на пользовательскую локацию, а не заставляем юзера ждать, пока отрендерится ВСЯ ЗЕМЛЯ, а потом лишь его локация (как бы красиво анимация приближения не смотрелсь);
- точки запоминаются по LongPress-жесту (по условию ДЗ аннотации и записи в таблице сразу не появляются, лишь выводим Alert о том, что точка добавлена);
- по кнопке "Обновить" (круглая стрелка) на карту добавляются аннотации, карта масштабируется так, чтобы все аннотации попали на экран(!!!), загружается/обновляется список в таблице;
- адрес выводм в формате: "Улица дом /n почтовый индекс, Город" ... если по выбранной точке отстутвует название улицы - выводим название объекта (парки, водоёмы и т.п.); если отстутвует название города - страну, отсутствует индекс - "xxxxxx";
- при нажатии на аннотации, фокус перемещается на соотстветствующую аннотацию (ставится по центру, открывается Callout View с адресом), текущий масштаб НЕ меняется;
- при нажатии на ячейке, фокус перемещается на соотстветствующую аннотацию (ставится по центру, открывается Callout View с адресом), масштаб меняется на дефолтовый (700 метров);
- по кнопке "Очистить" (корзина) - таблица очищается, все аннотации удаляются с карты, форсируется обновление текущего положения (фокус перемещается на текущее положение, масштаб меняется на дефолтовый - 700 метров);

вроде всё...

:)
